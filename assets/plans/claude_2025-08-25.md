# Paleo Labels Simplification Plan
**Date**: 2025-08-25
**Goal**: Reduce complexity by 80% while maintaining core label-making functionality

## üéØ Core User Workflow
1. Create a label with smart field suggestions
2. Copy label N times with blank fields for batch creation
3. Export as single PDF or multi-label sheets
4. Upload/manipulate: CSV data, style files, existing labels

## üèóÔ∏è Simplified Architecture (4 modules, ~1,000 lines)

### **`simple_app.py`** (~300 lines)
- Single unified interface
- Dynamic field addition with auto-complete
- Copy label N times functionality
- Live preview with style support
- File uploads: CSV, TOML labels, style files

### **`smart_data.py`** (~250 lines)
- Auto-complete from previous labels (Polars-based)
- PBDB integration for taxonomic suggestions (Polars)
- Schema recognition under-the-hood (no user-facing types)
- CSV import/processing (Polars only)

### **`export_engine.py`** (~300 lines)
- Single label PDF generation
- Multi-label sheet creation (optimized from current system)
- Style file support
- Batch export utilities

### **`storage.py`** (~150 lines)
- Simplified storage (keep existing, remove complexity)
- Label history tracking
- File management utilities

## üîÑ Key Features

### **Multi-Label Creation**
```python
# User workflow:
1. Create base label with fields
2. Click "Copy N times"
3. Choose which fields to blank out
4. Generate N copies with blank fields for manual entry
5. Export all as multi-label sheet
```

### **Smart Suggestions**
- Previous label fields (primary source)
- PBDB taxonomic matches (when user types species names)
- Common paleontology fields (built-in list)

### **Upload/Manipulation Support**
- **CSV files**: Import to create multiple labels (Polars processing)
- **TOML labels**: Load existing labels for editing
- **Style files**: Custom formatting
- **Label templates**: Save/load common field sets

### **Under-the-Hood Schema Recognition**
- Detect label type from field patterns (no user selection)
- Apply appropriate field suggestions automatically
- Validate common fields silently

## üöÄ Implementation Steps

### Phase 1: Core Interface (Week 1)
- Build `simple_app.py` with unified interface
- Implement dynamic field addition + auto-complete
- Add "Copy N times" functionality
- Basic PDF export

### Phase 2: Smart Features (Week 2)
- Integrate Polars-based suggestions system
- Add PBDB integration for taxonomic fields
- Implement CSV import (Polars-only)
- Under-the-hood schema detection

### Phase 3: Polish (Week 3)
- Multi-label sheet optimization
- Style file integration
- File upload/manipulation features
- Performance optimization

## üìä Success Metrics
- **Code reduction**: 83% (6,298 ‚Üí ~1,000 lines)
- **Module reduction**: 64% (11 ‚Üí 4 modules)
- **User workflow**: 3 steps instead of mode switching
- **Performance**: Sub-2 second multi-label PDF generation
- **Compatibility**: All existing labels/styles work

## üîß Technical Requirements
- **Polars** for all data processing (no pandas)
- **Streamlit** for UI (simplified)
- **ReportLab** for PDF generation
- **PBDB API** integration (existing)
- **TOML** for configuration files

## üíæ Migration Strategy
1. Build alongside existing system
2. Add "Simple Mode" toggle
3. User testing period
4. Gradual migration
5. Remove complex features once proven

This plan focuses on the core label-making experience while maintaining power-user features through simplified interfaces.
